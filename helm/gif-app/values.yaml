# Application Configuration
flask:
  image:
    repository: orelneto/flaskapp_with_db_motogpgif
    tag: 1.0.53
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP   # שימוש ב-ClusterIP עבור Ingress
    port: 80          # הפורט החיצוני לשירות
    targetPort: 5000  # הפורט שהאפליקציה מאזינה עליו
    extraPorts: []    # ביטול פורטים נוספים מברירת מחדל
  replicas: 2

mysql:
  image:
    repository: mysql
    tag: 5.7
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 3306
  replicas: 1
  persistence:
    enabled: true
    storageClass: "managed-premium"
    size: 10Gi
  
# Database Configuration
database:
  name: mydatabase
  user: root
  password: rootpassword
  rootHost: "%"

# ConfigMaps and Init Scripts
initScript:
  enabled: true

# Ingress Configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    kubernetes.io/ingress.class: nginx
  hosts:
    - host: 128.251.248.102.nip.io  # שימוש ב-nip.io כדי למפות את ה-IP לחיבור DNS זמני
      paths:
        - path: /
          pathType: Prefix
# Optional: הגדרות TLS במידת הצורך
# tls:
#   - hosts:
#       - 128.251.248.102.nip.io
#     secretName: gifapp-tls

# ServiceMonitor Configuration for Prometheus
serviceMonitor:
  enabled: true         # הפעלת ServiceMonitor לשאיבת /metrics מהאפליקציה
  interval: 30s         # מרווח בין סקרות
  scrapeTimeout: 10s    # זמן קצוב לסקר
  additionalLabels: {}  # ניתן להוסיף תוויות נוספות אם נדרש
